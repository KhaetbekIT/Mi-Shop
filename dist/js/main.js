(()=>{var t={33:(t,e,n)=>{"use strict";n.d(e,{nj:()=>s,om:()=>c});let o="http://localhost:3001";const c=t=>(t=o+t,fetch(t).then((t=>t.json()))),s=(t,e)=>(t=o+t,fetch(t,{method:"PATCH",body:JSON.stringify(e),headers:{"Content-type":"application/json"}}).then((t=>t.json())))},942:(t,e,n)=>{"use strict";n.r(e),n.d(e,{BusketFunc:()=>c});var o=n(33);const c=()=>{const t=document.querySelector("#cart-container"),e=()=>{(0,o.om)("/cart").then((e=>{t.innerHTML="",e.map((e=>{const{id:n,name:o,price:c,count:s}=e;t.insertAdjacentHTML("beforeend",`\n                    <div class="row border-bottom pb-3 pt-3">\n                        <div class="col col-12 col-md-6 mb-3 mb-md-0 fs-4">\n                            ${o}\n                        </div>\n                        <div\n                            class="col col-12 col-md-6 fs-4 d-flex align-items-center justify-content-end flex-wrap">\n                            <h4 class="me-3 d-flex align-itemns-center">${c} â‚½</h4>\n                            <button type="button" class="btn btn-outline-dark btn-sm cart-item-controls"\n                                id="control-dec" id="control-inc" data-id="${n}" data-count="${s}">\n                                -\n                            </button>\n                            <h6 class="cart-item-count me-3 ms-3"> ${s} </h6>\n                            <button type="button" class="btn btn-outline-dark btn-sm cart-item-controls"\n                                id="control-inc" data-id="${n}" data-count="${s}">\n                                +\n                            </button>\n                        </div>\n                    </div>\n                `)}))}))};t.addEventListener("click",(t=>{if("BUTTON"===t.target.tagName)if(t.target.id&&"control-inc"===t.target.id){const n=t.target.dataset.id,c={count:Number(t.target.dataset.count)+1};(0,o.nj)(`/cart/${n}`,c).then((()=>{e()}))}else if(t.target.id&&"control-dec"===t.target.id){const n=t.target.dataset.id,c=Number(t.target.dataset.count);if(c>0){const t={count:c-1};(0,o.nj)(`/cart/${n}`,t).then((()=>{e()}))}}})),e()}},187:(t,e,n)=>{"use strict";n.r(e),n.d(e,{CategoriesFunc:()=>c});var o=n(33);const c=()=>{const t=document.querySelector("#categories-container");(0,o.om)("/catalog").then((e=>{e.map((e=>{const{id:n,category:o,name:c,image:s}=e;t.insertAdjacentHTML("beforeend",`\n            <div class="col col-12 col-md-6 col-lg-4 mb-3">\n\n                <a href="./catalog.html?id=${n}" class="card-link">\n                    <div class="card">\n                        <img src="${s}" class="card-img-top" alt="phones">\n                        <div class="card-body">\n                            <h5 class="card-title">${c}</h5>\n                        </div>\n                    </div>\n                </a>\n            </div>\n            `)}))}))}},83:(t,e,n)=>{"use strict";n.r(e),n.d(e,{ScriptFunc:()=>r});var o=n(33);const c=t=>{t.classList.add("d-block"),document.body.insertAdjacentHTML("beforeend",'\n        <div id="layout" class="modal-backdrop fade"></div>\n    '),setTimeout((()=>{document.querySelector("#layout").classList.add("show"),t.classList.add("show")}),500)},s=t=>{t.classList.remove("show"),setTimeout((()=>{const e=document.querySelector("#layout");e&&e.remove(),t.classList.remove("d-block")}),500)},a=(t,e,n,o)=>{e.classList.remove("d-none"),n.classList.remove("d-none"),o.classList.add("d-none"),s(t)},r=()=>{const t=document.querySelector("#open-auth-btn"),e=document.querySelector("#auth-modal"),n=document.querySelectorAll("#modal-window-close"),r=e.querySelector("#login"),d=document.querySelector("#open-cart-btn"),l=document.querySelector("#logout-btn"),i=document.querySelector("#cart-modal"),u=document.querySelector("#login-control"),m=document.querySelector("#password-control");var v,g;s(t),t.addEventListener("click",(()=>{c(e)})),n.forEach(((t,n)=>{t.addEventListener("click",(()=>{s(e)})),t.addEventListener("click",(()=>{s(i)}))})),r.addEventListener("click",(()=>{a(e,d,l,t)})),l.addEventListener("click",(()=>{d.classList.add("d-none"),l.classList.add("d-none"),t.classList.remove("d-none")})),d.addEventListener("click",(()=>{c(i)})),v=u,g=m,r.addEventListener("click",(()=>{const t={lognUser:v.value,passUser:g.value};(0,o.om)("/profile").then((e=>{e.login===t.lognUser&&e.password===t.passUser&&localStorage.setItem("auth",JSON.stringify(t))}))})),l.addEventListener("click",(()=>{var e,n;e=l,n=t,d.classList.add("d-none"),e.classList.add("d-none"),n.classList.remove("d-none")})),((t,e,n,c)=>{let s=JSON.parse(localStorage.getItem("auth"));s&&(0,o.om)("/profile").then((o=>{o.login===s.lognUser&&o.password===s.passUser&&a(t,e,n,c)}))})(e,d,l,t),l.addEventListener("click",(()=>{localStorage.removeItem("auth")}))}}},e={};function n(o){var c=e[o];if(void 0!==c)return c.exports;var s=e[o]={exports:{}};return t[o](s,s.exports,n),s.exports}n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{const{BusketFunc:t}=n(942),{CategoriesFunc:e}=n(187),{ScriptFunc:o}=n(83);o(),e(),t()})()})();